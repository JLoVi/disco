<template id="user">
  <style>
   div.user {
     border: 2px solid #888;
     min-height: 30px;
     min-width: 80px;
   }

   ul {
     list-style: none;
   }
  </style>

  <div class="user">
    <ul>
      <li>
	Id: <content select="p.id"></content>
      </li>
      <li>
	UserName: <content select="p.user-name"></content>
      </li>
    </ul>
  </div>
</template>

<script>
 // use a clojure so as to not overwrite global values
 (function() {
    // IMPORT DOM 
    var importDoc = document.currentScript.ownerDocument;

    // PARENT DOM 
    var parentDoc = document;

    var XComponent = document.registerElement('iris-user', {
      prototype: Object.create(HTMLElement.prototype, {
        // Element initializer
        createdCallback: {
          value: function() {
            this.root = this.createShadowRoot();
            var template = importDoc.querySelector('template#user');
            var clone = importDoc.importNode(template.content, true);
            this.root.appendChild(clone);
          }
        },
        
        // Element attached to DOM
        attachedCallback: {
          value: function() {
          
          }
        },
        
        // Element is detached (removed from DOM)
        detachedCallback: {
          value: function() {
          
          }
        },
        
        trigger: {
          value: function() {
            var event = parentDoc.createEvent("HTMLEvents");
            event.initEvent('play', true, true);
            this.dispatchEvent(event);
          }
        }
      })
    });
 })();

</script>
